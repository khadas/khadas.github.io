<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8">
  <title>convert and call your own model through NPU | Khadas Documentation</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="https://khadas.github.io/vim3/ConvertToUseNPU.html">
  <!-- Alternative links -->
  
    
      <link rel="alternative" hreflang="en" href="https://khadas.github.io/vim3/ConvertToUseNPU.html">
    
      <link rel="alternative" hreflang="zh-cn" href="https://khadas.github.io/zh-cn/vim3/ConvertToUseNPU.html">
    
  
  <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
  <link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">
  <style>
    .pace .pace-progress {
       background: #1E92FB;
       height: 2px;
     }
    .pace .pace-progress-inner {
       box-shadow: 0 0 10px #1E92FB, 0 0 5px     #1E92FB;
     }
    .pace .pace-activity {
       border-top-color: #1E92FB;
       border-left-color: #1E92FB;
    }
  </style>
  <!-- Icon -->
  <link rel="Shortcut Icon" href="/linux/images/favicon.ico">
  <!-- CSS -->
  <link rel="stylesheet" type="text/css" href="/linux//vendor/semantic/dist/semantic.min.css">
  <link rel="stylesheet" type="text/css" href="/linux//vendor/bootstrap-4.0.0/dist/css/bootstrap.min.css">
  <script
    src="https://s3.pstatp.com/cdn/expire-1-M/jquery/3.3.1/jquery.min.js"
    crossorigin="anonymous"></script>
  <script src="/linux//vendor/semantic/dist/semantic.min.js"></script>
  <script src="/linux//vendor/bootstrap-4.0.0/dist/js/bootstrap.bundle.min.js"></script>
 <!-- Hotjar Tracking Code for https://khadas.github.io -->
  <script>
      (function(h,o,t,j,a,r){
          h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
          h._hjSettings={hjid:1081538,hjsv:6};
          a=o.getElementsByTagName('head')[0];
          r=o.createElement('script');r.async=1;
          r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
          a.appendChild(r);
      })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
  </script>

  <!-- build:css build/css/navy.css -->
  
<link rel="stylesheet" href="/linux/css/navy.css">

  <!-- endbuild -->
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/linux//css/font/fontawesome.min.css">
  <!-- RSS -->
  <link rel="alternate" href="/linux/atom.xml" title="Khadas Documentation" type="application/atom+xml">
  <!-- Open Graph -->
  <meta name="description" content="Here takes yolov3 as an example to demonstrate how to convert your own model, adapt it to our demo, and run it on VIM3 NotePlease review the document carefully before converting the reference document">
<meta property="og:type" content="website">
<meta property="og:title" content="convert and call your own model through NPU">
<meta property="og:url" content="https://khadas.github.io/vim3/ConvertToUseNPU">
<meta property="og:site_name" content="Khadas Documentation">
<meta property="og:description" content="Here takes yolov3 as an example to demonstrate how to convert your own model, adapt it to our demo, and run it on VIM3 NotePlease review the document carefully before converting the reference document">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2023-07-31T06:30:38.953Z">
<meta property="article:modified_time" content="2023-07-31T06:30:38.953Z">
<meta property="article:author" content="Khadas">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="khadas_official">
  <!-- Google Analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-110196417-1', 'auto');
  ga('send', 'pageview');
</script>

<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <header id="header" class="header-wrapper">
  <div id="header-inner" class="inner wrapper">
    <h1 id="logo-wrap">
      <a href="/" id="logo">Hexo</a>
    </h1>
    <nav id="main-nav">
      <div style="display:inline-block"><div class="btn-group"><div class="main-nav-link dropdown-toggle current" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">VIM</div><ul class="dropdown-menu submenu-list" aria-labelledby="dropdownMenuLink"><li class="submenu"><a href="/linux/vim1/" class="main-nav-link secondary ">VIM1</a></li><li class="submenu"><a href="/linux/vim2/" class="main-nav-link secondary ">VIM2</a></li><li class="submenu"><a href="/linux/vim3/" class="main-nav-link secondary current">VIM3/3L</a></li><li class="submenu"><a href="/linux/vim4/" class="main-nav-link secondary ">VIM4</a></li></ul></div><a href="/linux/edge/" class="main-nav-link  header">Edge</a><a href="/linux/tone1/" class="main-nav-link  header">Tone1</a><a href="/linux/hardware/hardwareVim3" class="main-nav-link  header">Hardware</a><a href="/linux/firmware/Vim3UbuntuFirmware" class="main-nav-link  header">Firmware</a></div>
      <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/khadas" class="main-nav-link"><i class="fa fa-github-alt"></i></a>
      <div id="search-input-wrap">
        <div id="search-input-icon">
          <i class="fa fa-search"></i>
        </div>
        <input type="search" id="search-input" placeholder="Search...">
      </div>
    </nav>
    <div id="lang-select-wrap">
      <label id="lang-select-label"><i class="fa fa-globe"></i><span>English</span></label>
      <select id="lang-select" data-canonical="vim3/ConvertToUseNPU.html">
        
          <option value="en" selected>English</option>
        
          <option value="zh-cn">简体中文</option>
        
      </select>
    </div>
    <a id="mobile-nav-toggle">
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
    </a>
  </div>
</header>

    <div id="content-wrap">
  <div id="content" class="wrapper">
    <div id="content-inner">
      <article class="article-container" itemscope itemtype="http://schema.org/Article">
        <div class="article-inner">
          <div class="article">
            <div class="inner inner-article">
              <header class="article-header">
                <h1 class="article-title" itemprop="name">convert and call your own model through NPU</h1>
                <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/khadas/khadas_docs/edit/master/linux/source/vim3/ConvertToUseNPU.md" class="article-edit-link" title="Improve this doc"><i class="fa fa-pencil"></i></a>
              </header>
              <div class="article-content" itemprop="articleBody">
                <p>Here takes yolov3 as an example to demonstrate how to convert your own model, adapt it to our demo, and run it on VIM3</p>
<blockquote class="note info"><strong class="note-title">Note</strong><p>Please review the document carefully before converting the reference document</p>
</blockquote>

<h2 id="Prepare" class="article-heading"><a href="#Prepare" class="headerlink" title="Prepare"></a>Prepare<a class="article-anchor" href="#Prepare" aria-hidden="true"></a></h2><ol>
<li><p>Train your own yolov3 model. The training method and process can refer to the official: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://pjreddie.com/darknet/yolo/">Darknet Yolo Page</a>, here we use the officially trained weights based on the coco data set</p>
</li>
<li><p>Prepare SDK, app warehouse, and demo warehouse</p>
</li>
</ol>
<p>Please refer to the SDK, app and demo documents respectively for how to obtain the corresponding code</p>
<ol>
<li><a href="NPUSDK.html">NPU SDK Usage</a></li>
<li><a href="NPUApp.html">Application source code compilation instructions</a></li>
<li><a href="NPUPrebuiltUsage.html">NPU Prebuilt Demo Usage</a></li>
</ol>
<h2 id="Conversion" class="article-heading"><a href="#Conversion" class="headerlink" title="Conversion"></a>Conversion<a class="article-anchor" href="#Conversion" aria-hidden="true"></a></h2><p>The conversion is performed under the SDK.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> &#123;workspace&#125;/SDK/acuity-toolkit/conversion_scripts</span></span><br></pre></td></tr></table></figure>

<h3 id="Modify-0-import-model-sh" class="article-heading"><a href="#Modify-0-import-model-sh" class="headerlink" title="Modify 0_import_model.sh"></a>Modify <code>0_import_model.sh</code><a class="article-anchor" href="#Modify-0-import-model-sh" aria-hidden="true"></a></h3><ol>
<li>Modify <code>NAME</code></li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NAME=mobilenet_tf --&gt; NAME=yolov3</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>Comment out Tensorflow</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$</span><span class="language-bash">convert_tf \</span></span><br><span class="line"><span class="language-bash">    --tf-pb ./model/mobilenet_v1.pb \</span></span><br><span class="line"><span class="language-bash">    --inputs input \</span></span><br><span class="line"><span class="language-bash">    --input-size-list <span class="string">&#x27;224,224,3&#x27;</span> \</span></span><br><span class="line"><span class="language-bash">    --outputs MobilenetV1/Logits/SpatialSqueeze \</span></span><br><span class="line"><span class="language-bash">    --net-output <span class="variable">$&#123;NAME&#125;</span>.json \</span></span><br><span class="line"><span class="language-bash">    --data-output <span class="variable">$&#123;NAME&#125;</span>.data</span></span><br></pre></td></tr></table></figure>

<p>Modify to,</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="variable">$convert_tf</span> \</span></span><br><span class="line"><span class="language-bash"><span class="comment">#    --tf-pb ./model/mobilenet_v1.pb \</span></span></span><br><span class="line"><span class="language-bash"><span class="comment">#    --inputs input \</span></span></span><br><span class="line"><span class="language-bash"><span class="comment">#    --input-size-list &#x27;224,224,3&#x27; \</span></span></span><br><span class="line"><span class="language-bash"><span class="comment">#    --outputs MobilenetV1/Logits/SpatialSqueeze \</span></span></span><br><span class="line"><span class="language-bash"><span class="comment">#    --net-output $&#123;NAME&#125;.json \</span></span></span><br><span class="line"><span class="language-bash"><span class="comment">#    --data-output $&#123;NAME&#125;.data</span></span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>Comment Darknet</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="variable">$convert_darknet</span> \</span></span><br><span class="line"><span class="language-bash"><span class="comment">#    --net-input xxx.cfg \</span></span></span><br><span class="line"><span class="language-bash"><span class="comment">#   --weight-input xxx.weights \</span></span></span><br><span class="line"><span class="language-bash"><span class="comment">#    --net-output $&#123;NAME&#125;.json \</span></span></span><br><span class="line"><span class="language-bash"><span class="comment">#    --data-output $&#123;NAME&#125;.data</span></span> </span><br></pre></td></tr></table></figure>

<p>Modify to,</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$</span><span class="language-bash">convert_darknet \</span></span><br><span class="line"><span class="language-bash">    --net-input path/to/yolov3.cfg \</span></span><br><span class="line"><span class="language-bash">   --weight-input path/to/yolov3.weights \</span></span><br><span class="line"><span class="language-bash">    --net-output <span class="variable">$&#123;NAME&#125;</span>.json \</span></span><br><span class="line"><span class="language-bash">    --data-output <span class="variable">$&#123;NAME&#125;</span>.data</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Modify-1-quantize-model-sh" class="article-heading"><a href="#Modify-1-quantize-model-sh" class="headerlink" title="Modify 1_quantize_model.sh"></a>Modify <code>1_quantize_model.sh</code><a class="article-anchor" href="#Modify-1-quantize-model-sh" aria-hidden="true"></a></h3><ol>
<li>Modify <code>NAME</code></li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NAME=mobilenet_tf --&gt; NAME=yolov3</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>Modify regression parameters</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--channel-mean-value &#x27;128 128 128 128&#x27; \</span><br></pre></td></tr></table></figure>
<p>Modify to,</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--channel-mean-value &#x27;0 0 0 256&#x27; \</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>Modify <code>validation_tf.txt</code></li>
</ol>
<p>Replace the image inside</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> ./data/validation_tf.txt</span></span><br><span class="line">./space_shuttle_224.jpg, 813</span><br></pre></td></tr></table></figure>

<p>Modify to,</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path/to/416x416.jpg</span><br></pre></td></tr></table></figure>

<p>The picture resolution here is the same as the configuration in the yolo cfg file</p>
<ol start="4">
<li>Modify quant type</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--quantized-dtype asymmetric_affine-u8 \</span><br></pre></td></tr></table></figure>

<p>Modify to,</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--quantized-dtype dynamic_fixed_point-i8 \</span><br></pre></td></tr></table></figure>

<h3 id="Modify-2-export-case-code-sh" class="article-heading"><a href="#Modify-2-export-case-code-sh" class="headerlink" title="Modify 2_export_case_code.sh"></a>Modify <code>2_export_case_code.sh</code><a class="article-anchor" href="#Modify-2-export-case-code-sh" aria-hidden="true"></a></h3><ol>
<li>Modify <code>NAME</code></li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NAME=mobilenet_tf --&gt; NAME=yolov3</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>Modify regression parameters</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--channel-mean-value &#x27;128 128 128 128&#x27; \</span><br></pre></td></tr></table></figure>

<p>Modify to,</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--channel-mean-value &#x27;0 0 0 256&#x27; \</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>Modify the RGB channel order</li>
</ol>
<p>default channel is RGB</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--reorder-channel &#x27;0 1 2&#x27; \</span><br></pre></td></tr></table></figure>

<p>Modified to BGR</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--reorder-channel &#x27;2 1 0&#x27; \</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>Specified board model</li>
</ol>
<p>VIM3</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--optimize VIPNANOQI_PID0X88  \</span><br></pre></td></tr></table></figure>

<p>VIM3L</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--optimize VIPNANOQI_PID0X99  \</span><br></pre></td></tr></table></figure>

<h3 id="Compile-And-Get-The-Case-Code" class="article-heading"><a href="#Compile-And-Get-The-Case-Code" class="headerlink" title="Compile And Get The Case Code"></a>Compile And Get The Case Code<a class="article-anchor" href="#Compile-And-Get-The-Case-Code" aria-hidden="true"></a></h3><ol>
<li>Compile</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">bash 0_import_model.sh &amp;&amp; bash 1_quantize_model.sh  &amp;&amp; bash 2_export_case_code.sh</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>case code</li>
</ol>
<p>The converted code is in the <code>nbg_unify_yolov3</code> directory</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span> &#123;workspace&#125;/SDK/acuity-toolkit/conversion_scripts/nbg_unify_yolov3</span></span><br><span class="line">BUILD  main.c  makefile.linux  nbg_meta.json  vnn_global.h  vnn_post_process.c  vnn_post_process.h  vnn_pre_process.c  vnn_pre_process.h  vnn_yolov3.c  vnn_yolov3.h  yolov3.nb  yolov3.vcxproj</span><br></pre></td></tr></table></figure>

<h2 id="Compile" class="article-heading"><a href="#Compile" class="headerlink" title="Compile"></a>Compile<a class="article-anchor" href="#Compile" aria-hidden="true"></a></h2><p>This part of the code is carried out in the aml_npu_app warehouse. Enter the directory of <code>detect_yolo_v3</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> &#123;workspace&#125;/aml_npu_app/detect_library/model_code/detect_yolo_v3</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span></span></span><br><span class="line">build_vx.sh  include  Makefile  makefile.linux  nn_data  vnn_yolov3.c  yolo_v3.c  yolov3_process.c</span><br></pre></td></tr></table></figure>

<h3 id="Replace-VNN-File" class="article-heading"><a href="#Replace-VNN-File" class="headerlink" title="Replace VNN File"></a>Replace VNN File<a class="article-anchor" href="#Replace-VNN-File" aria-hidden="true"></a></h3><ol>
<li>Replace <code>vnn_yolov3.h</code>, <code>vnn_post_process.h</code>, <code>vnn_pre_process.h</code> generated by SDK</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cp</span> &#123;workspace&#125;/SDK/acuity-toolkit/conversion_scripts/nbg_unify_yolov3/vnn_yolov3.h &#123;workspace&#125;/aml_npu_app/detect_library/model_code/detect_yolo_v3/include/vnn_yolov3.h</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cp</span> &#123;workspace&#125;/SDK/acuity-toolkit/conversion_scripts/nbg_unify_yolov3/vnn_post_process.h &#123;workspace&#125;/aml_npu_app/detect_library/model_code/detect_yolo_v3/include/vnn_post_process.h</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cp</span> &#123;workspace&#125;/SDK/acuity-toolkit/conversion_scripts/nbg_unify_yolov3/vnn_pre_process.h &#123;workspace&#125;/aml_npu_app/detect_library/model_code/detect_yolo_v3/include/vnn_pre_process.h</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>Replace <code>vnn_yolov3.c</code> generated by SDK</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cp</span> &#123;workspace&#125;/SDK/acuity-toolkit/conversion_scripts/nbg_unify_yolov3/vnn_yolov3.c &#123;workspace&#125;/aml_npu_app/detect_library/model_code/detect_yolo_v3/vnn_yolov3.c</span></span><br></pre></td></tr></table></figure>

<h3 id="Modify-yolov3-process-c" class="article-heading"><a href="#Modify-yolov3-process-c" class="headerlink" title="Modify yolov3_process.c"></a>Modify <code>yolov3_process.c</code><a class="article-anchor" href="#Modify-yolov3-process-c" aria-hidden="true"></a></h3><ol>
<li>Modify the class array</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">static</span> <span class="type">char</span> *coco_names[] = &#123;<span class="string">&quot;person&quot;</span>,<span class="string">&quot;bicycle&quot;</span>,<span class="string">&quot;car&quot;</span>,<span class="string">&quot;motorbike&quot;</span>,<span class="string">&quot;aeroplane&quot;</span>,<span class="string">&quot;bus&quot;</span>,<span class="string">&quot;train&quot;</span>,<span class="string">&quot;truck&quot;</span>,<span class="string">&quot;boat&quot;</span>,<span class="string">&quot;traffic light&quot;</span>,<span class="string">&quot;fire hydrant&quot;</span>,<span class="string">&quot;stop sign&quot;</span>,<span class="string">&quot;parking meter&quot;</span>,<span class="string">&quot;bench&quot;</span>,<span class="string">&quot;bird&quot;</span>,<span class="string">&quot;cat&quot;</span>,<span class="string">&quot;dog&quot;</span>,<span class="string">&quot;horse&quot;</span>,<span class="string">&quot;sheep&quot;</span>,<span class="string">&quot;cow&quot;</span>,<span class="string">&quot;elephant&quot;</span>,<span class="string">&quot;bear&quot;</span>,<span class="string">&quot;zebra&quot;</span>,<span class="string">&quot;giraffe&quot;</span>,<span class="string">&quot;backpack&quot;</span>,<span class="string">&quot;umbrella&quot;</span>,<span class="string">&quot;handbag&quot;</span>,<span class="string">&quot;tie&quot;</span>,<span class="string">&quot;suitcase&quot;</span>,<span class="string">&quot;frisbee&quot;</span>,<span class="string">&quot;skis&quot;</span>,<span class="string">&quot;snowboard&quot;</span>,<span class="string">&quot;sports ball&quot;</span>,<span class="string">&quot;kite&quot;</span>,<span class="string">&quot;baseball bat&quot;</span>,<span class="string">&quot;baseball glove&quot;</span>,<span class="string">&quot;skateboard&quot;</span>,<span class="string">&quot;surfboard&quot;</span>,<span class="string">&quot;tennis racket&quot;</span>,<span class="string">&quot;bottle&quot;</span>,<span class="string">&quot;wine glass&quot;</span>,<span class="string">&quot;cup&quot;</span>,<span class="string">&quot;fork&quot;</span>,<span class="string">&quot;knife&quot;</span>,<span class="string">&quot;spoon&quot;</span>,<span class="string">&quot;bowl&quot;</span>,<span class="string">&quot;banana&quot;</span>,<span class="string">&quot;apple&quot;</span>,<span class="string">&quot;sandwich&quot;</span>,<span class="string">&quot;orange&quot;</span>,<span class="string">&quot;broccoli&quot;</span>,<span class="string">&quot;carrot&quot;</span>,<span class="string">&quot;hot dog&quot;</span>,<span class="string">&quot;pizza&quot;</span>,<span class="string">&quot;donut&quot;</span>,<span class="string">&quot;cake&quot;</span>,<span class="string">&quot;chair&quot;</span>,<span class="string">&quot;sofa&quot;</span>,<span class="string">&quot;pottedplant&quot;</span>,<span class="string">&quot;bed&quot;</span>,<span class="string">&quot;diningtable&quot;</span>,<span class="string">&quot;toilet&quot;</span>,<span class="string">&quot;tvmonitor&quot;</span>,<span class="string">&quot;laptop&quot;</span>,<span class="string">&quot;mouse&quot;</span>,<span class="string">&quot;remote&quot;</span>,<span class="string">&quot;keyboard&quot;</span>,<span class="string">&quot;cell phone&quot;</span>,<span class="string">&quot;microwave&quot;</span>,<span class="string">&quot;oven&quot;</span>,<span class="string">&quot;toaster&quot;</span>,<span class="string">&quot;sink&quot;</span>,<span class="string">&quot;refrigerator&quot;</span>,<span class="string">&quot;book&quot;</span>,<span class="string">&quot;clock&quot;</span>,<span class="string">&quot;vase&quot;</span>,<span class="string">&quot;scissors&quot;</span>,<span class="string">&quot;teddy bear&quot;</span>,<span class="string">&quot;hair drier&quot;</span>,<span class="string">&quot;toothbrush&quot;</span>&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>According to your training data set settings, if it is a coco data set, there is no need to modify it.</p>
<ol start="2">
<li>Modify <code>yolo_v3_post_process_onescale</code></li>
</ol>
<p>Modify <code>num_class</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> num_class = <span class="number">80</span>;</span><br></pre></td></tr></table></figure>

<p>The <code>num_class</code> here is the same as the number of classes in the training set</p>
<ol start="3">
<li>Modified post-processing function <code>yolov3_postprocess</code></li>
</ol>
<p>Modify <code>num_class</code> and <code>size[3]</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> num_class = <span class="number">80</span>;</span><br><span class="line"><span class="type">int</span> size[<span class="number">3</span>]=&#123;nn_width/<span class="number">32</span>, nn_height/<span class="number">32</span>,<span class="number">85</span>*<span class="number">3</span>&#125;;</span><br></pre></td></tr></table></figure>

<p>The <code>num_class</code> here is the same as the number of classes in the training set<br>The <code>size[2]</code> here is equal to <code>(num_class + 5) * 3</code></p>
<h3 id="Compile-1" class="article-heading"><a href="#Compile-1" class="headerlink" title="Compile"></a>Compile<a class="article-anchor" href="#Compile-1" aria-hidden="true"></a></h3><p>Use the <code>build_vx.sh</code> script to compile the yolov3 library,</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> &#123;workspace&#125;/aml_npu_app/detect_library/model_code/detect_yolo_v3</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./build_vx.sh</span></span><br></pre></td></tr></table></figure>

<p>The generated library is in the <code>bin_r</code> directory</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span> &#123;workspace&#125;/aml_npu_app/detect_library/model_code/detect_yolo_v3/bin_r</span></span><br><span class="line">libnn_yolo_v3.so  vnn_yolov3.o  yolo_v3.o  yolov3_process.o</span><br></pre></td></tr></table></figure>

<h2 id="Run" class="article-heading"><a href="#Run" class="headerlink" title="Run"></a>Run<a class="article-anchor" href="#Run" aria-hidden="true"></a></h2><h3 id="Replace" class="article-heading"><a href="#Replace" class="headerlink" title="Replace"></a>Replace<a class="article-anchor" href="#Replace" aria-hidden="true"></a></h3><ol>
<li>Replace yolov3 library</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cp</span> &#123;workspace&#125;/aml_npu_app/detect_library/model_code/detect_yolo_v3/bin_r/libnn_yolo_v3.so &#123;workspace&#125;/aml_npu_demo_binaries/detect_demo_picture/lib/libnn_yolo_v3.so</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>Replace nb file</li>
</ol>
<p>VIM3</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cp</span> &#123;workspace&#125;/SDK/acuity-toolkit/conversion_scripts/nbg_unify_yolov3/yolov3.nb &#123;workspace&#125;/aml_npu_demo_binaries/detect_demo_picture/nn_data/yolov3_88.nb</span></span><br></pre></td></tr></table></figure>

<p>VIM3L</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cp</span> &#123;workspace&#125;/SDK/acuity-toolkit/conversion_scripts/nbg_unify_yolov3/yolov3.nb &#123;workspace&#125;/aml_npu_demo_binaries/detect_demo_picture/nn_data/yolov3_99.nb</span></span><br></pre></td></tr></table></figure>

<h3 id="Run-with-board" class="article-heading"><a href="#Run-with-board" class="headerlink" title="Run with board"></a>Run with board<a class="article-anchor" href="#Run-with-board" aria-hidden="true"></a></h3><p>How to run the replaced <code>aml_npu_demo_binaries</code> on the board, please refer to</p>
<p><a href="NPUPrebuiltUsage.html">NPU Prebuilt Demo Usage</a></p>

              </div>
              <footer class="article-footer">
                <time class="article-footer-updated" datetime="2023-07-31T06:30:38.953Z" itemprop="dateModified">Last updated: 2023-07-31</time>
                <a href="NPUApp.html" class="article-footer-prev" title="NPU Demo Source Code"><i class="fa fa-chevron-left"></i><span>Prev</span></a><a href="NPUPerformanceUsage.html" class="article-footer-next" title="NPU Performance"><span>Next</span><i class="fa fa-chevron-right"></i></a>
              </footer>
              
            </div>
          </div>
          <aside id="article-toc" role="navigation">
            <div id="article-toc-inner">
              <div class="article-toc-border">
                <strong class="sidebar-title">Contents</strong>
                <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Prepare"><span class="toc-text" title="Prepare">Prepare</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Conversion"><span class="toc-text" title="Conversion">Conversion</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Modify-0-import-model-sh"><span class="toc-text" title="Modify 0_import_model.sh">Modify 0_import_model.sh</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Modify-1-quantize-model-sh"><span class="toc-text" title="Modify 1_quantize_model.sh">Modify 1_quantize_model.sh</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Modify-2-export-case-code-sh"><span class="toc-text" title="Modify 2_export_case_code.sh">Modify 2_export_case_code.sh</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Compile-And-Get-The-Case-Code"><span class="toc-text" title="Compile And Get The Case Code">Compile And Get The Case Code</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Compile"><span class="toc-text" title="Compile">Compile</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Replace-VNN-File"><span class="toc-text" title="Replace VNN File">Replace VNN File</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Modify-yolov3-process-c"><span class="toc-text" title="Modify yolov3_process.c">Modify yolov3_process.c</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Compile-1"><span class="toc-text" title="Compile">Compile</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Run"><span class="toc-text" title="Run">Run</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Replace"><span class="toc-text" title="Replace">Replace</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Run-with-board"><span class="toc-text" title="Run with board">Run with board</span></a></li></ol></li></ol>
                <a href="#" id="article-toc-top">Back to Top</a>
              </div>
            </div>
          </aside>
        </div>
      </article>
      <aside id="sidebar" role="navigation">
  <div class="inner">
    <strong class="sidebar-title"><details open><summary>Quick Start</summary><a href="index.html" class="sidebar-link first">Quick Start</a><a href="OsIntroduce.html" class="sidebar-link">Choose an OS</a><a href="InstallOsIntoEmmc.html" class="sidebar-link">Install OS into eMMC</a><a href="InstallOsIntoSdusb.html" class="sidebar-link">Install OS into SD/USB Media</a><a href="BootIntoUpgradeMode.html" class="sidebar-link">Boot into Upgrade Mode</a><a href="BootFromExtMedia.html" class="sidebar-link">Boot from External Media</a><a href="Hardware.html" class="sidebar-link">VIM3 Hardware</a></details></strong><strong class="sidebar-title"><details open><summary>Configuration</summary><strong class="sidebar-link"><details><summary>Basic</summary><a href="UpgradeSystem.html" class="sidebar-link secondary-first">System Upgrades</a><a href="SystemConfigFile.html" class="sidebar-link">Config File</a><a href="DeviceTreeOverlay.html" class="sidebar-link">Device Tree Overlay</a><a href="AutoLogin.html" class="sidebar-link">Auto Login</a><a href="WriteSDImageToEmmc.html" class="sidebar-link">Write SD Image to eMMC</a><a href="ChineseSupportUsage.html" class="sidebar-link">Chinese Support</a></details></strong><strong class="sidebar-link"><details><summary>Network</summary><a href="Wifi.html" class="sidebar-link secondary-first">Wi-Fi</a><a href="Bluetooth.html" class="sidebar-link">Bluetooth</a><a href="CustomMac.html" class="sidebar-link">Custom MAC Address</a><a href="Wol.html" class="sidebar-link">Wake-On-Lan</a></details></strong><strong class="sidebar-link"><details><summary>Display</summary><a href="HdmiResolution.html" class="sidebar-link secondary-first">Setup HDMI Resolution</a><a href="RotateFramebuffer.html" class="sidebar-link">Rotate Framebuffer</a><a href="UbuntuLogo.html" class="sidebar-link">Ubuntu Logo</a><a href="ChangeBootLogo.html" class="sidebar-link">Change Boot Logo</a><a href="SetupFramebufferConsoleFont.html" class="sidebar-link">Framebuffer Console Font</a></details></strong><strong class="sidebar-link"><details><summary>Accessories</summary><a href="Fan.html" class="sidebar-link secondary-first">Cooling Fan</a><a href="MIPICamera.html" class="sidebar-link">MIPI Camera</a><a href="TS050.html" class="sidebar-link">TS050 Touch Screen</a><a href="LteModule.html" class="sidebar-link">LTE 4G Module</a><a href="M2xEth.html" class="sidebar-link">M2X ETH</a></details></strong><strong class="sidebar-link"><details><summary>Hardware</summary><a href="PcieUsbPort.html" class="sidebar-link secondary-first">PCIe/USB3.0 Port Switch</a><a href="CustomIRCode.html" class="sidebar-link">Custom IR Code</a><a href="ExtraPowerInput.html" class="sidebar-link">Secondary Power Input</a><a href="MaxCPUFrequency.html" class="sidebar-link">Max CPU Frequency</a><a href="USBGadget.html" class="sidebar-link">USB Gadget Usage</a></details></strong></details></strong><strong class="sidebar-title"><details open><summary>Applications</summary><strong class="sidebar-link"><details><summary>GPIO</summary><a href="Gpio.html" class="sidebar-link secondary-first">GPIO</a><a href="I2c.html" class="sidebar-link">I2C</a><a href="SPIUsage.html" class="sidebar-link">SPI</a><a href="LED.html" class="sidebar-link">LED</a><a href="1wire.html" class="sidebar-link">1-Wire</a><a href="Uart.html" class="sidebar-link">UART</a><a href="Pwm.html" class="sidebar-link">PWM</a><a href="GpioIRQ.html" class="sidebar-link">GPIO Interrupts</a><a href="WiringPi.html" class="sidebar-link">WiringPi</a><a href="WiringPi-Python.html" class="sidebar-link">WiringPi-Python</a><a href="SoftPWM.html" class="sidebar-link">Software PWM</a><a href="spdifin.html" class="sidebar-link">SPDIF IN</a></details></strong><a href="GsensorUsage.html" class="sidebar-link first">Gsensor</a><a href="PlayVideo.html" class="sidebar-link">Play Video</a><a href="RSTPCamera.html" class="sidebar-link">RSTP Web Camera</a><a href="HardwareDecoding.html" class="sidebar-link">Hardware Decoding</a><a href="HardwareEncoding.html" class="sidebar-link">Hardware Encoding</a><a href="Docker.html" class="sidebar-link">Docker</a><a href="Watchdog.html" class="sidebar-link">Watchdog</a><a href="WifiApstaMode.html" class="sidebar-link">Wi-Fi STA/AP Mode</a><a href="Sdl2.html" class="sidebar-link">SDL2</a><a href="Ppsspp.html" class="sidebar-link">PPSSPP</a><a href="QT5.html" class="sidebar-link">QT5</a><a href="32bitLibrary.html" class="sidebar-link">32-bit Library</a></details></strong><strong class="sidebar-title"><details open><summary>NPU</summary><a href="NPUPrebuiltUsage.html" class="sidebar-link first">Prebuilt NPU Demo</a><a href="NPUSDK.html" class="sidebar-link">NPU SDK</a><a href="NPUApp.html" class="sidebar-link">NPU Demo Source Code</a><a href="ConvertToUseNPU.html" class="sidebar-link current">Model Convert</a><a href="NPUPerformanceUsage.html" class="sidebar-link">NPU Performance</a><a href="NPUOperationTimes.html" class="sidebar-link">NPU Operation Usage Times</a><strong class="sidebar-link"><details><summary>KSNN(Python API)</summary><a href="KSNNUsage.html" class="sidebar-link secondary-first">KSNN Usage</a><a href="KSNNConvert.html" class="sidebar-link">KSNN Convert tool</a><a href="KSNNAPI.html" class="sidebar-link">KSNN API</a></details></strong></details></strong><strong class="sidebar-title"><details open><summary>Development</summary><strong class="sidebar-link"><details><summary>U-Boot</summary><a href="BuildUboot.html" class="sidebar-link secondary-first">Build U-Boot</a><a href="UpgradeUboot.html" class="sidebar-link">Upgrade U-Boot</a><a href="SetupTFTPServer.html" class="sidebar-link">TFTP Sever for U-Boot</a><a href="KbiGuidance.html" class="sidebar-link">KBI</a></details></strong><strong class="sidebar-link"><details><summary>Linux</summary><a href="BuildLinuxKernel.html" class="sidebar-link secondary-first">Build Linux Kernel</a><a href="UpgradeLinuxKernel.html" class="sidebar-link">Upgrade Linux Kernel</a></details></strong><a href="FenixScript.html" class="sidebar-link first">Build Ubuntu/Debian Image</a><a href="SetupSerialTool.html" class="sidebar-link">Serial Debug Tool</a><a href="CreateBurnCard.html" class="sidebar-link">Create Flash Card</a><a href="CreateBootableSDCard.html" class="sidebar-link">Create Bootable SD Card</a><a href="EraseEmmc.html" class="sidebar-link">Erase eMMC</a></details></strong><strong class="sidebar-title"><details open><summary>Troubleshooting</summary><a href="CaptureLog.html" class="sidebar-link first">Capture Running Log</a></details></strong>
  </div>
</aside>
    </div>
  </div>
</div>

    <footer id="footer" class="wrapperforfooter">
  <div class="inner">
    <div id="footer-copyright">
      &copy; 2023 <a href="https://www.khadas.com/" rel="external nofollow noreferrer" target="_blank">Khadas</a><br>
    </div>
    <div id="footer-links">
      <a href="https://facebook.com/khadas.official" rel="external nofollow noreferrer" class="footer-link" target="_blank"><i class="fa fa-facebook"></i></a>
      <a href="https://twitter.com/khadas_official" rel="external nofollow noreferrer" class="footer-link" target="_blank"><i class="fa fa-twitter"></i></a>
      <a href="https://youtube.com/c/khadas" rel="external nofollow noreferrer" class="footer-link" target="_blank"><i class="fa fa-youtube-play"></i></a>
      <a href="https://github.com/khadas" rel="external nofollow noreferrer" class="footer-link" target="_blank"><i class="fa fa-github-alt"></i></a>
    </div>
  </div>
</footer>

  </div>
  <div id="mobile-nav-dimmer"></div>
  <nav id="mobile-nav">
  <div id="mobile-nav-inner">
    <ul id="mobile-nav-list">
      <strong class="mobile-nav-link current header"><details open><summary>VIM</summary><a href="/linux/vim1/" class="mobile-nav-link secondary ">VIM1</a><a href="/linux/vim2/" class="mobile-nav-link secondary ">VIM2</a><a href="/linux/vim3/" class="mobile-nav-link secondary current">VIM3/3L</a><a href="/linux/vim4/" class="mobile-nav-link secondary ">VIM4</a></details></strong><a href="/linux/edge/" class="mobile-nav-link  header">Edge</a><a href="/linux/tone1/" class="mobile-nav-link  header">Tone1</a><a href="/linux/hardware/hardwareVim3" class="mobile-nav-link  header">Hardware</a><a href="/linux/firmware/Vim3UbuntuFirmware" class="mobile-nav-link  header">Firmware</a>
      <li class="mobile-nav-item">
        <a href="https://github.com/khadas" class="mobile-nav-link header" rel="external" target="_blank">GitHub</a>
      </li>
    </ul>
    
      <strong class="mobile-nav-title"><details open><summary>Quick Start</summary><a href="index.html" class="mobile-nav-link first">Quick Start</a><a href="OsIntroduce.html" class="mobile-nav-link">Choose an OS</a><a href="InstallOsIntoEmmc.html" class="mobile-nav-link">Install OS into eMMC</a><a href="InstallOsIntoSdusb.html" class="mobile-nav-link">Install OS into SD/USB Media</a><a href="BootIntoUpgradeMode.html" class="mobile-nav-link">Boot into Upgrade Mode</a><a href="BootFromExtMedia.html" class="mobile-nav-link">Boot from External Media</a><a href="Hardware.html" class="mobile-nav-link">VIM3 Hardware</a></details></strong><strong class="mobile-nav-title"><details open><summary>Configuration</summary><strong class="mobile-nav-link"><details><summary>Basic</summary><a href="UpgradeSystem.html" class="mobile-nav-link secondary-first">System Upgrades</a><a href="SystemConfigFile.html" class="mobile-nav-link">Config File</a><a href="DeviceTreeOverlay.html" class="mobile-nav-link">Device Tree Overlay</a><a href="AutoLogin.html" class="mobile-nav-link">Auto Login</a><a href="WriteSDImageToEmmc.html" class="mobile-nav-link">Write SD Image to eMMC</a><a href="ChineseSupportUsage.html" class="mobile-nav-link">Chinese Support</a></details></strong><strong class="mobile-nav-link"><details><summary>Network</summary><a href="Wifi.html" class="mobile-nav-link secondary-first">Wi-Fi</a><a href="Bluetooth.html" class="mobile-nav-link">Bluetooth</a><a href="CustomMac.html" class="mobile-nav-link">Custom MAC Address</a><a href="Wol.html" class="mobile-nav-link">Wake-On-Lan</a></details></strong><strong class="mobile-nav-link"><details><summary>Display</summary><a href="HdmiResolution.html" class="mobile-nav-link secondary-first">Setup HDMI Resolution</a><a href="RotateFramebuffer.html" class="mobile-nav-link">Rotate Framebuffer</a><a href="UbuntuLogo.html" class="mobile-nav-link">Ubuntu Logo</a><a href="ChangeBootLogo.html" class="mobile-nav-link">Change Boot Logo</a><a href="SetupFramebufferConsoleFont.html" class="mobile-nav-link">Framebuffer Console Font</a></details></strong><strong class="mobile-nav-link"><details><summary>Accessories</summary><a href="Fan.html" class="mobile-nav-link secondary-first">Cooling Fan</a><a href="MIPICamera.html" class="mobile-nav-link">MIPI Camera</a><a href="TS050.html" class="mobile-nav-link">TS050 Touch Screen</a><a href="LteModule.html" class="mobile-nav-link">LTE 4G Module</a><a href="M2xEth.html" class="mobile-nav-link">M2X ETH</a></details></strong><strong class="mobile-nav-link"><details><summary>Hardware</summary><a href="PcieUsbPort.html" class="mobile-nav-link secondary-first">PCIe/USB3.0 Port Switch</a><a href="CustomIRCode.html" class="mobile-nav-link">Custom IR Code</a><a href="ExtraPowerInput.html" class="mobile-nav-link">Secondary Power Input</a><a href="MaxCPUFrequency.html" class="mobile-nav-link">Max CPU Frequency</a><a href="USBGadget.html" class="mobile-nav-link">USB Gadget Usage</a></details></strong></details></strong><strong class="mobile-nav-title"><details open><summary>Applications</summary><strong class="mobile-nav-link"><details><summary>GPIO</summary><a href="Gpio.html" class="mobile-nav-link secondary-first">GPIO</a><a href="I2c.html" class="mobile-nav-link">I2C</a><a href="SPIUsage.html" class="mobile-nav-link">SPI</a><a href="LED.html" class="mobile-nav-link">LED</a><a href="1wire.html" class="mobile-nav-link">1-Wire</a><a href="Uart.html" class="mobile-nav-link">UART</a><a href="Pwm.html" class="mobile-nav-link">PWM</a><a href="GpioIRQ.html" class="mobile-nav-link">GPIO Interrupts</a><a href="WiringPi.html" class="mobile-nav-link">WiringPi</a><a href="WiringPi-Python.html" class="mobile-nav-link">WiringPi-Python</a><a href="SoftPWM.html" class="mobile-nav-link">Software PWM</a><a href="spdifin.html" class="mobile-nav-link">SPDIF IN</a></details></strong><a href="GsensorUsage.html" class="mobile-nav-link first">Gsensor</a><a href="PlayVideo.html" class="mobile-nav-link">Play Video</a><a href="RSTPCamera.html" class="mobile-nav-link">RSTP Web Camera</a><a href="HardwareDecoding.html" class="mobile-nav-link">Hardware Decoding</a><a href="HardwareEncoding.html" class="mobile-nav-link">Hardware Encoding</a><a href="Docker.html" class="mobile-nav-link">Docker</a><a href="Watchdog.html" class="mobile-nav-link">Watchdog</a><a href="WifiApstaMode.html" class="mobile-nav-link">Wi-Fi STA/AP Mode</a><a href="Sdl2.html" class="mobile-nav-link">SDL2</a><a href="Ppsspp.html" class="mobile-nav-link">PPSSPP</a><a href="QT5.html" class="mobile-nav-link">QT5</a><a href="32bitLibrary.html" class="mobile-nav-link">32-bit Library</a></details></strong><strong class="mobile-nav-title"><details open><summary>NPU</summary><a href="NPUPrebuiltUsage.html" class="mobile-nav-link first">Prebuilt NPU Demo</a><a href="NPUSDK.html" class="mobile-nav-link">NPU SDK</a><a href="NPUApp.html" class="mobile-nav-link">NPU Demo Source Code</a><a href="ConvertToUseNPU.html" class="mobile-nav-link current">Model Convert</a><a href="NPUPerformanceUsage.html" class="mobile-nav-link">NPU Performance</a><a href="NPUOperationTimes.html" class="mobile-nav-link">NPU Operation Usage Times</a><strong class="mobile-nav-link"><details><summary>KSNN(Python API)</summary><a href="KSNNUsage.html" class="mobile-nav-link secondary-first">KSNN Usage</a><a href="KSNNConvert.html" class="mobile-nav-link">KSNN Convert tool</a><a href="KSNNAPI.html" class="mobile-nav-link">KSNN API</a></details></strong></details></strong><strong class="mobile-nav-title"><details open><summary>Development</summary><strong class="mobile-nav-link"><details><summary>U-Boot</summary><a href="BuildUboot.html" class="mobile-nav-link secondary-first">Build U-Boot</a><a href="UpgradeUboot.html" class="mobile-nav-link">Upgrade U-Boot</a><a href="SetupTFTPServer.html" class="mobile-nav-link">TFTP Sever for U-Boot</a><a href="KbiGuidance.html" class="mobile-nav-link">KBI</a></details></strong><strong class="mobile-nav-link"><details><summary>Linux</summary><a href="BuildLinuxKernel.html" class="mobile-nav-link secondary-first">Build Linux Kernel</a><a href="UpgradeLinuxKernel.html" class="mobile-nav-link">Upgrade Linux Kernel</a></details></strong><a href="FenixScript.html" class="mobile-nav-link first">Build Ubuntu/Debian Image</a><a href="SetupSerialTool.html" class="mobile-nav-link">Serial Debug Tool</a><a href="CreateBurnCard.html" class="mobile-nav-link">Create Flash Card</a><a href="CreateBootableSDCard.html" class="mobile-nav-link">Create Bootable SD Card</a><a href="EraseEmmc.html" class="mobile-nav-link">Erase eMMC</a></details></strong><strong class="mobile-nav-title"><details open><summary>Troubleshooting</summary><a href="CaptureLog.html" class="mobile-nav-link first">Capture Running Log</a></details></strong>
    
  </div>
  <div id="mobile-lang-select-wrap">
    <span id="mobile-lang-select-label"><i class="fa fa-globe"></i><span>English</span></span>
    <select id="mobile-lang-select" data-canonical="vim3/ConvertToUseNPU.html">
      
        <option value="en" selected>English</option>
      
        <option value="zh-cn">简体中文</option>
      
    </select>
  </div>
</nav>
  <!-- Scripts -->
<!-- build:js build/js/main.js -->

<script src="/linux/js/lang_select.js"></script>


<script src="/linux/js/toc.js"></script>


<script src="/linux/js/mobile_nav.js"></script>

<!-- endbuild -->

<!-- Algolia -->


</body>
</html>
